# ğŸ’¬ Chat Completions Playground

Upstage Solar ëª¨ë¸ì˜ **ëª¨ë“  ê¸°ëŠ¥**ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²´í—˜í•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ ë°ëª¨ì…ë‹ˆë‹¤.

> ğŸ’¡ **ì´ ì•±ì„ ë§Œë“  ì´ìœ **: Playgroundë§Œìœ¼ë¡œëŠ” ëª¨ë“  íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ì„œ, ì´ ì•±ì—ì„œ ì§ì ‘ ì¡°ì‘í•˜ê³ , ê²°ê³¼ë¥¼ ë³´ê³ , ì½”ë“œê¹Œì§€ ì–»ì–´ê°€ì„¸ìš”.

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

```bash
# 1. ì„¤ì¹˜
pip install streamlit langchain-upstage

# 2. ì‹¤í–‰
streamlit run app.py

# 3. ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8501 ì—´ë¦¼
```

**API í‚¤ ë°œê¸‰**: [Upstage Console](https://console.upstage.ai/) â†’ API Keys â†’ ìƒˆ í‚¤ ìƒì„±

---

## ğŸ“¸ ì•± êµ¬ì¡°

![ë©”ì¸ í™”ë©´](images/main_ui.gif)
> ì™¼ìª½: ì„¤ì • íŒ¨ë„ | ì˜¤ë¥¸ìª½: ìë™ ìƒì„±ëœ Python ì½”ë“œ

---

## ğŸ“ ì‹¤ìŠµ íŠœí† ë¦¬ì–¼

### ğŸ”¥ ì‹¤ìŠµ 1: Temperatureë¡œ ì°½ì˜ì„± ì¡°ì ˆí•˜ê¸°

**ëª©í‘œ**: ê°™ì€ ì§ˆë¬¸ì— ëŒ€í•´ ë³´ìˆ˜ì  vs ì°½ì˜ì  ë‹µë³€ ë¹„êµ

1. **Temperature = 0.0** ì„¤ì •
2. ë©”ì‹œì§€ ì…ë ¥: `"upstageë¥¼ í•œë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•´ì¤˜."`
3. **ì „ì†¡** í´ë¦­ â†’ ê²°ê³¼ í™•ì¸
4. ê°™ì€ ë©”ì‹œì§€ ë‹¤ì‹œ ì „ì†¡ â†’ ê²°ê³¼ ë¹„êµ

![Temperature=0 ë¹„êµ](images/temperature0.gif)
> ë‚®ì€ TemperatureëŠ” ì¼ê´€ì„±


1. **Temperature = 1.0** ì„¤ì •
2. ë©”ì‹œì§€ ì…ë ¥: `"upstageë¥¼ í•œë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•´ì¤˜."`
3. **ì „ì†¡** í´ë¦­ â†’ ê²°ê³¼ í™•ì¸
4. ê°™ì€ ë©”ì‹œì§€ ë‹¤ì‹œ ì „ì†¡ â†’ ê²°ê³¼ ë¹„êµ

![Temperature=1 ë¹„êµ](images/temperature1.gif)
> ë†’ì€ TemperatureëŠ” ì°½ì˜ì„±

**ìµœì¢… ê²°ê³¼**:
```
Temperature 0.0
ì²«ë²ˆì§¸ ì‹œë„: 
"ì—…ìŠ¤í…Œì´ì§€ëŠ” í•œêµ­ì–´ì™€ ì¼ë³¸ì–´ì— ìµœì í™”ëœ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì„ ì—°êµ¬ ê°œë°œí•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í´ë¼ìš°ë“œ AI ì„œë¹„ìŠ¤ì™€ ë¬¸ì„œ ì²˜ë¦¬ ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” í•œêµ­ì˜ ì¸ê³µì§€ëŠ¥ ìŠ¤íƒ€íŠ¸ì—…ì…ë‹ˆë‹¤."

ë‘ë²ˆì§¸ ì‹œë„: 
"ì—…ìŠ¤í…Œì´ì§€ëŠ”â€¯2019ë…„ì— ì„¤ë¦½ëœ í•œêµ­ì˜ ì¸ê³µì§€ëŠ¥ ìŠ¤íƒ€íŠ¸ì—…ìœ¼ë¡œ, ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸â€¯Solarì™€ OCRÂ·ë¬¸ì„œ ì²˜ë¦¬ ê¸°ìˆ ì„ í™œìš©í•´ ê¸°ì—…ìš© AI ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” íšŒì‚¬ì…ë‹ˆë‹¤."

Temperature 1.0
ì²«ë²ˆì§¸ ì‹œë„: 
"ì—…ìŠ¤í…Œì´ì§€(Upstage)ëŠ” 2020ë…„ì— ì„¤ë¦½ëœ í•œêµ­ ê¸°ë°˜ AI ìŠ¤íƒ€íŠ¸ì—…ìœ¼ë¡œ, í•œêµ­ì–´Â·ì¼ì–´ì— íŠ¹í™”ëœ ê³ ì„±ëŠ¥ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(Solar LLM)ê³¼ ë¬¸ì„œÂ·ë°ì´í„° ìë™ ì²˜ë¦¬ ì†”ë£¨ì…˜(KIE)ì„ ì œê³µí•˜ë©° ë‹¤ì–‘í•œ ì‚°ì—… í˜„ì¥ì— í´ë¼ìš°ë“œÂ·ì˜¨â€‘í”„ë ˆë¯¸ìŠ¤ í˜•íƒœì˜ AIë¥¼ ì ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤."

ë‘ë²ˆì§¸ ì‹œë„: 
"UpstageëŠ” ì„œìš¸ì— ë³¸ì‚¬ë¥¼ ë‘” í•œêµ­ ìŠ¤íƒ€íŠ¸ì—…ìœ¼ë¡œ ê¸€ë¡œë²Œ ì‹œì¥ì— ì§„ì¶œí•œ ì¸ê³µì§€ëŠ¥ ê¸°ì—…ì´ë©°, Solar Open 100Bë¥¼ í¬í•¨í•œ ëŒ€ê·œëª¨ ì–¸ì–´ëª¨ë¸(LMM) ê°œë°œ ë° í´ë¼ìš°ë“œ ê¸°ë°˜ AI ì„œë¹„ìŠ¤(ì˜ˆ: AWS ë² ë“œë½)ë¥¼ ì œê³µí•˜ëŠ” íšŒì‚¬ì…ë‹ˆë‹¤.

(í•œë¬¸ì¥ìœ¼ë¡œ ìš”ì²­ ì‹œ:
"UpstageëŠ” ì„œìš¸ì˜ ë³¸ì‚¬ë¥¼ ë‘ê³  ê¸€ë¡œë²Œ ì‹œì¥ì„ ì§€í–¥í•˜ëŠ” í•œêµ­ AI ìŠ¤íƒ€íŠ¸ì—…ìœ¼ë¡œ, Solar Open ì‹œë¦¬ì¦ˆ ëª¨ë¸ì„ ë¹„ë¡¯í•œ ëŒ€ê·œëª¨ ì–¸ì–´ëª¨ë¸(LMM)ê³¼ í´ë¼ìš°ë“œ ê¸°ë°˜ ìƒì„±í˜•AI ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ê¸°ì—…ì…ë‹ˆë‹¤.")"
```
---

### ğŸ“‹ ì‹¤ìŠµ 2: JSON Schemaë¡œ êµ¬ì¡°í™”ëœ ë°ì´í„° ì¶”ì¶œ

**ëª©í‘œ**: ìì—°ì–´ë¥¼ ì •í™•í•œ JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜

1. **Response Format**: `json_schema` ì„ íƒ
2. **JSON Schema** ì…ë ¥:
   ```json
   {
     "name": "user_info",
     "strict": true,
     "schema": {
       "type": "object",
       "properties": {
         "name": {"type": "string"},
         "age": {"type": "integer"},
         "city": {"type": "string"},
         "hobbies": {"type": "array", "items": {"type": "string"}}
       },
       "required": ["name", "age", "city"],
       "additionalProperties": false
     }
   }
   ```
3. ë©”ì‹œì§€ ì…ë ¥:
   ```
   í™ê¸¸ë™ì€ 30ì„¸ì´ê³  ì„œìš¸ì— ì‚´ì•„ìš”. ì·¨ë¯¸ëŠ” ë…ì„œì™€ ë“±ì‚°ì…ë‹ˆë‹¤. JSONìœ¼ë¡œ ì •ë¦¬í•´ì£¼ì„¸ìš”.
   ```
4. **ì „ì†¡** â†’ ì™„ë²½í•œ JSON ì¶œë ¥ í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
```json
{
  "name": "í™ê¸¸ë™",
  "age": 30,
  "city": "ì„œìš¸",
  "hobbies": ["ë…ì„œ", "ë“±ì‚°"]
}
```

![JSON Schema ì¶œë ¥](images/json_schema_output.gif)
> ìŠ¤í‚¤ë§ˆë¥¼ ë²—ì–´ë‚œ ë°ì´í„°ëŠ” ìë™ìœ¼ë¡œ í•„í„°ë§ë¨

**í™œìš© ì‚¬ë¡€**:
- ì´ë ¥ì„œ íŒŒì‹±
- ê³ ê° ë¬¸ì˜ ìë™ ë¶„ë¥˜
- ì›¹ ìŠ¤í¬ë˜í•‘ ë°ì´í„° ì •ì œ

---

### ğŸ”§ ì‹¤ìŠµ 3: Function Callingìœ¼ë¡œ ë‚ ì”¨ API ì—°ë™

**ëª©í‘œ**: AIê°€ ìŠ¤ìŠ¤ë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ë§Œë“¤ê¸°

1. **ê³ ê¸‰ ì„¤ì •** í¼ì¹˜ê¸°
2. **Function Calling í™œì„±í™”** ì²´í¬
3. **ğŸŒ¡ï¸ ë‚ ì”¨ API ì˜ˆì‹œ ë¡œë“œ** ë²„íŠ¼ í´ë¦­
4. ë©”ì‹œì§€ ì…ë ¥:
   ```
   ì„œìš¸ ë‚ ì”¨ê°€ ë­ì•¼??
   ```
5. **ì „ì†¡** â†’ í•¨ìˆ˜ í˜¸ì¶œ ê³¼ì • ê´€ì°°

**ì‹¤í–‰ íë¦„**:
```
1. ì‚¬ìš©ì: 
"ì„œìš¸ ë‚ ì”¨ê°€ ë­ì•¼??"
2. AI íŒë‹¨: 
"ë‚ ì”¨ ì •ë³´ê°€ í•„ìš”í•˜ë‹ˆ get_current_weather í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ê² ë‹¤"
3. í•¨ìˆ˜ í˜¸ì¶œ: 
get_current_weather(location="Seoul", unit="celsius")
4. API ì‘ë‹µ: 
{"location": "Seoul", "temperature": "10", "unit": "celsius"}
5. AI ìµœì¢… ë‹µë³€: 
"í˜„ì¬(2026â€‘02â€‘06) ì„œìš¸ì˜ ê¸°ì˜¨ì€ ì„­ì”¨â€¯10Â°C ì •ë„ë¡œ ê½¤ ë”°ëœ»í•©ë‹ˆë‹¤.

ë‚ ì”¨ ìƒí™©: ëŒ€ì²´ë¡œ ë§‘ì€ í¸ì´ë©° ë‚®ì—ëŠ” í–‡ì‚´ì´ ê°•í•˜ì§€ë§Œ ì €ë… ë¬´ë µì—” ì•½ê°„ ìŒ€ìŒ€í•´ì§ˆ ìˆ˜ ìˆì–´ìš”.
ì˜·ì°¨ë¦¼ íŒ: ì–‡ì€ ìŠ¤ì›¨í„°ë‚˜ ì–‡ì€ ì¬í‚·ì— ë‹ˆíŠ¸ í˜¹ì€ ëª©ë„ë¦¬ ì •ë„ë©´ ì¶©ë¶„íˆ ì¾Œì í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì™¸ì¶œí•˜ì‹¤ ë•ŒëŠ” ì–‡ì€ ê²‰ì˜·ì„ í•˜ë‚˜ ì±™ê¸°ì‹œë©´ ì €ë…ì´ë‚˜ ë°”ëŒì´ ì¡°ê¸ˆ ë¶€ëŠ” ì‹œê°„ì—ë„ ë„ì›€ì´ ë¼ìš”.
ë” ìì„¸í•œ ì‹œê°„ëŒ€ë³„ ì˜ˆë³´(ì˜ˆ: ì˜¤ì „Â·ì˜¤í›„Â·ì €ë…)ë‚˜ ìŠµë„Â·ê°•ìˆ˜ëŸ‰ ì •ë³´ê°€ í•„ìš”í•˜ì‹œë©´ ì•Œë ¤ ì£¼ì„¸ìš”! ğŸ˜Š"
```

![Function Calling ê³¼ì •](images/function_calling_flow.gif)
> í•¨ìˆ˜ í˜¸ì¶œ #1 ì„¹ì…˜ì—ì„œ íŒŒë¼ë¯¸í„° í™•ì¸ ê°€ëŠ¥

---

## ğŸ’¡ ì‹¤ì „ í™œìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ê³ ê° ë¬¸ì˜ ìë™ ë¶„ë¥˜ ì‹œìŠ¤í…œ

```python
# ì•±ì—ì„œ ìƒì„±ëœ ì½”ë“œ í™œìš©
llm = ChatUpstage(
    model="solar-mini",  # ë¹ ë¥¸ ì‘ë‹µ
    temperature=0.2,     # ì¼ê´€ëœ ë¶„ë¥˜
    model_kwargs={
        "response_format": {
            "type": "json_schema",
            "json_schema": {
                "name": "inquiry_classification",
                "schema": {
                    "type": "object",
                    "properties": {
                        "category": {"type": "string", "enum": ["í™˜ë¶ˆ", "ë°°ì†¡", "ì œí’ˆë¬¸ì˜", "ê¸°íƒ€"]},
                        "urgency": {"type": "string", "enum": ["ê¸´ê¸‰", "ë³´í†µ", "ë‚®ìŒ"]},
                        "summary": {"type": "string"}
                    }
                }
            }
        }
    }
)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸

```python
llm = ChatUpstage(
    model="solar-pro3",
    model_kwargs={"reasoning_effort": "high"},  # ë³µì¡í•œ ë¡œì§ ë¶„ì„
    temperature=0.3,  # ì •í™•í•œ ì½”ë“œ ìƒì„±
    max_tokens=8192
)
```

---

## ğŸ¯ íŒŒë¼ë¯¸í„° ì¹˜íŠ¸ì‹œíŠ¸

| íŒŒë¼ë¯¸í„° | ë²”ìœ„ | ê¸°ë³¸ê°’ | ì¶”ì²œ ìš©ë„ |
|---------|------|--------|----------|
| **Temperature** | 0.0~2.0 | 0.8 (pro3)<br>0.7 (ê¸°íƒ€) | ë‚®ìŒ(0.0~0.3): ë²ˆì—­, ë¶„ë¥˜, ì •í™•ì„±<br>ë†’ìŒ(1.5~2.0): ì°½ì‘, ë¸Œë ˆì¸ìŠ¤í† ë° |
| **Top P** | 0.0~1.0 | 0.95 (pro3)<br>1.0 (ê¸°íƒ€) | ë‚®ìŒ(0.1~0.3): ì „ë¬¸ ìš©ì–´, ì¼ê´€ì„±<br>ë†’ìŒ(0.9~1.0): ì¼ë°˜ ëŒ€í™”, ë‹¤ì–‘ì„± |
| **Frequency Penalty** | -2.0~2.0 | 1.1 | ì–‘ìˆ˜(1.5~2.0): ë°˜ë³µ ê°ì†Œ, ë‹¤ì–‘í•œ í‘œí˜„<br>0: í˜ë„í‹° ì—†ìŒ<br>ìŒìˆ˜(-1.0~-2.0): ë°˜ë³µ í—ˆìš© |
| **Presence Penalty** | -2.0~2.0 | 0.0 | ì–‘ìˆ˜(1.5~2.0): ì£¼ì œ ì „í™˜, ìƒˆë¡œìš´ ì•„ì´ë””ì–´<br>0: í˜ë„í‹° ì—†ìŒ<br>ìŒìˆ˜(-1.0~-2.0): ê¸°ì¡´ ì£¼ì œ ìœ ì§€ |
| **Reasoning Effort** | low/minimal<br>medium<br>high | minimal (pro2)<br>medium (pro3) | **solar-pro2**: high(ì¶”ë¡  ON) / minimal(ì¶”ë¡  OFF)<br>**solar-pro3**: high(ìµœëŒ€ ì¶”ë¡ , ë³µì¡í•œ ë¬¸ì œ) / medium(ê· í˜•) / low(ì¶”ë¡  OFF, ë¹ ë¥¸ ì‘ë‹µ) |
| **Max Tokens** | 1~32768 | inf | ì‘ë‹µ ê¸¸ì´ ì œí•œ (ì…ë ¥+ì¶œë ¥ â‰¤ ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´) |

---

## ğŸ“š ë” ì•Œì•„ë³´ê¸°

- [Upstage API ê³µì‹ ë¬¸ì„œ](https://developers.upstage.ai/)
- [LangChain Upstage í†µí•©](https://python.langchain.com/docs/integrations/chat/upstage)
- [Solar ëª¨ë¸ ë²¤ì¹˜ë§ˆí¬](https://console.upstage.ai/docs/capabilities/chat)

---

## ğŸ¤ í”¼ë“œë°±

ì´ìŠˆë‚˜ ê°œì„  ì•„ì´ë””ì–´ê°€ ìˆë‹¤ë©´ ì–¸ì œë“  ê³µìœ í•´ì£¼ì„¸ìš”!
